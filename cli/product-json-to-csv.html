
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Product JSON to CSV Â· commercetools node.js</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="product-json-to-xlsx.html" />
    
    
    <link rel="prev" href="product-exporter.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Read Me
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../sdk/">
            
                <a href="../sdk/">
            
                    
                    SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../sdk/Middlewares.html">
            
                <a href="../sdk/Middlewares.html">
            
                    
                    Middlewares
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../sdk/Middlewares.html">
            
                <a href="../sdk/Middlewares.html#example">
            
                    
                    Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../sdk/upgrading-from-sphere-node-sdk.html">
            
                <a href="../sdk/upgrading-from-sphere-node-sdk.html">
            
                    
                    Upgrading from sphere-node-sdk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../sdk/Testing.html">
            
                <a href="../sdk/Testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../sdk/Glossary.html">
            
                <a href="../sdk/Glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../sdk/api/">
            
                <a href="../sdk/api/">
            
                    
                    API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../sdk/api/">
            
                <a href="../sdk/api/#core">
            
                    
                    core
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1.1" data-path="../sdk/api/sdkAuth.html">
            
                <a href="../sdk/api/sdkAuth.html">
            
                    
                    sdk-auth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.1.2" data-path="../sdk/api/sdkClient.html">
            
                <a href="../sdk/api/sdkClient.html">
            
                    
                    sdk-client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.1.3" data-path="../sdk/api/typescriptSdk.html">
            
                <a href="../sdk/api/typescriptSdk.html">
            
                    
                    typescript
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../sdk/api/">
            
                <a href="../sdk/api/#middlewares">
            
                    
                    middlewares
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.2.1" data-path="../sdk/api/sdkMiddlewareAuth.html">
            
                <a href="../sdk/api/sdkMiddlewareAuth.html">
            
                    
                    sdk-middleware-auth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2.2" data-path="../sdk/api/sdkMiddlewareHttp.html">
            
                <a href="../sdk/api/sdkMiddlewareHttp.html">
            
                    
                    sdk-middleware-http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2.3" data-path="../sdk/api/sdkMiddlewareQueue.html">
            
                <a href="../sdk/api/sdkMiddlewareQueue.html">
            
                    
                    sdk-middleware-queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2.4" data-path="../sdk/api/sdkMiddlewareLogger.html">
            
                <a href="../sdk/api/sdkMiddlewareLogger.html">
            
                    
                    sdk-middleware-logger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2.5" data-path="../sdk/api/sdkMiddlewareCorrelationId.html">
            
                <a href="../sdk/api/sdkMiddlewareCorrelationId.html">
            
                    
                    sdk-middleware-correlation-id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2.6" data-path="../sdk/api/sdkMiddlewareUserAgent.html">
            
                <a href="../sdk/api/sdkMiddlewareUserAgent.html">
            
                    
                    sdk-middleware-user-agent
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../sdk/api/">
            
                <a href="../sdk/api/#helpers">
            
                    
                    helpers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.3.1" data-path="../sdk/api/apiRequestBuilder.html">
            
                <a href="../sdk/api/apiRequestBuilder.html">
            
                    
                    api-request-builder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3.2" data-path="../sdk/api/getCredentials.html">
            
                <a href="../sdk/api/getCredentials.html">
            
                    
                    get-credentials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3.3" data-path="../sdk/api/httpUserAgent.html">
            
                <a href="../sdk/api/httpUserAgent.html">
            
                    
                    http-user-agent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3.4" data-path="../sdk/api/syncActions.html">
            
                <a href="../sdk/api/syncActions.html">
            
                    
                    sync-actions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    CLI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="category-exporter.html">
            
                <a href="category-exporter.html">
            
                    
                    Category Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="csv-parser-discount-code.html">
            
                <a href="csv-parser-discount-code.html">
            
                    
                    CSV Discount Code Parser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="csv-parser-price.html">
            
                <a href="csv-parser-price.html">
            
                    
                    CSV Price Parser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="csv-parser-orders.html">
            
                <a href="csv-parser-orders.html">
            
                    
                    CSV Order Parser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="csv-parser-state.html">
            
                <a href="csv-parser-state.html">
            
                    
                    CSV State Parser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="custom-objects-exporter.html">
            
                <a href="custom-objects-exporter.html">
            
                    
                    Custom Objects Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="custom-objects-importer.html">
            
                <a href="custom-objects-importer.html">
            
                    
                    Custom Objects Importer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="customer-groups-exporter.html">
            
                <a href="customer-groups-exporter.html">
            
                    
                    Customer Groups Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="personal-data-erasure.html">
            
                <a href="personal-data-erasure.html">
            
                    
                    Personal Data Erasure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="discount-code-generator.html">
            
                <a href="discount-code-generator.html">
            
                    
                    Discount Code Generator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="discount-code-exporter.html">
            
                <a href="discount-code-exporter.html">
            
                    
                    Discount Code Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="discount-code-importer.html">
            
                <a href="discount-code-importer.html">
            
                    
                    Discount Code Importer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="inventories-exporter.html">
            
                <a href="inventories-exporter.html">
            
                    
                    Inventories Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="price-exporter.html">
            
                <a href="price-exporter.html">
            
                    
                    Price Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="product-exporter.html">
            
                <a href="product-exporter.html">
            
                    
                    Product Exporter
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.16" data-path="product-json-to-csv.html">
            
                <a href="product-json-to-csv.html">
            
                    
                    Product JSON to CSV
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.17" data-path="product-json-to-xlsx.html">
            
                <a href="product-json-to-xlsx.html">
            
                    
                    Product JSON to XLSX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.18" data-path="resource-deleter.html">
            
                <a href="resource-deleter.html">
            
                    
                    Resource Deleter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.19" data-path="state-importer.html">
            
                <a href="state-importer.html">
            
                    
                    State importer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Product JSON to CSV</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="product-json-to-csv-parser">Product JSON to CSV Parser</h1>
<p>A package that parses <a href="https://docs.commercetools.com/http-api-projects-products.html#product" target="_blank">commercetools products</a> JSON data to CSV.
The products to be parsed can either be read from a <code>.json</code> file or directly <a href="http://www.gnu.org/software/bash/manual/bash.html#Pipelines" target="_blank">piped in</a> from the <a href="https://commercetools.github.io/nodejs/cli/product-exporter.html" target="_blank">product exporter</a>.</p>
<h2 id="usage">Usage</h2>
<p><code>npm install @commercetools/product-json-to-csv --global</code></p>
<h3 id="cli">CLI</h3>
<pre class="language-"><code>Usage: product-json-to-csv [options]
Convert commercetools products from JSON to CSV

Options:
  --help, -h                       Show help                                   [boolean]
  --version, -v                    Show version number                         [boolean]
  --projectKey, -p                 API project key                   [string] [required]
  --apiUrl                         The host URL of the HTTP API service         [string]
                                              [default: &quot;https://api.commercetools.com&quot;]
  --authUrl                        The host URL of the OAuth API service        [string]
                                             [default: &quot;https://auth.commercetools.com&quot;]
  --accessToken                    CTP client access token
                                   Required scopes: [&apos;view_products&apos;]           [string]
  --template, -t                   CSV file containing your header that defines what you
                                                                          want to export
  --input, -i                      Path from which to read product chunks.
                                                                      [default: &quot;stdin&quot;]
  --output, -o                     Path to output           [string] [default: &quot;stdout&quot;]
  --referenceCategoryBy            Define which identifier should be used for the
                                   categories column. [choices: &quot;name&quot;, &quot;key&quot;, &quot;externalId&quot;,
                                                          &quot;namedPath&quot;] [default: &quot;name&quot;]
  --referenceCategoryOrderHintBy   Define which identifier should be used for the
                                   categoryOrderHints column. [choices: &quot;name&quot;, &quot;key&quot;,
                                   &quot;externalId&quot;, &quot;namedPath&quot;] [default: &quot;name&quot;]
  --fillAllRows                    Define if product attributes like name should be
                                   added to each variant row.                  [boolean]
  --onlyMasterVariants            Export only masterVariants from products.
                                                      [boolean] [default: false]
  --language, -l                   Language(s) used for localised attributes such as
                                   category names. Can contain multiple languages
                                   delimited by comma &quot;,&quot;       [string] [default: &quot;en&quot;]
  --delimiter, -d                  Used CSV delimiter.                    [default: &quot;,&quot;]
  --multiValueDelimiter, -m        Used CSV delimiter in multiValue fields. [default: &quot;;&quot;]
  --encoding, -e                   Encoding used when saving data to output file
                                                              [string] [default: &quot;utf8&quot;]
  --logLevel                       Logging level: error, warn, info or debug    [string]
                                                                       [default: &quot;info&quot;]
  --prettyLogs                     Pretty print logs to the terminal           [boolean]
  --logFile                        Path to file where logs should be saved      [string]
                                                    [default: &quot;product-json-to-csv.log&quot;]
</code></pre><p>The products to be parsed from JSON to CSV can be passed to this module in one of two ways:</p>
<ul>
<li>From a pipe</li>
<li>From a file</li>
</ul>
<h4 id="pass-products-through-a-pipe">Pass products through a pipe</h4>
<p>Piping products in JSON to be parsed. This ideally works with the commercetools product exporter. In this scenario, the products are parsed directly after export. More information on pipe streams can be found <a href="http://www.gnu.org/software/bash/manual/bash.html#Pipelines" target="_blank">here</a></p>
<h5 id="example">Example</h5>
<pre class="language-"><code>$ @commercetools/product-exporter --projectKey <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_key</span><span class="token punctuation">&gt;</span></span> | @commercetools/product-json-to-csv \
--projectKey <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_key</span><span class="token punctuation">&gt;</span></span> --template <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_template_file</span><span class="token punctuation">&gt;</span></span> --output <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_output_file</span><span class="token punctuation">&gt;</span></span>
</code></pre><h4 id="pass-products-from-a-file">Pass products from a file</h4>
<p>This module also accepts products to be read from a JSON file. This can be done by specifying the <code>--input</code> flag</p>
<h5 id="example">Example</h5>
<pre class="language-"><code>$ @commercetools@commercetools/product-json-to-csv --language &quot;en,de,fr&quot; --projectKey <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_key</span><span class="token punctuation">&gt;</span></span> --input <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_JSON_file</span><span class="token punctuation">&gt;</span></span> --template <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_template_file</span><span class="token punctuation">&gt;</span></span> --output <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_output_file</span><span class="token punctuation">&gt;</span></span>
</code></pre><h4 id="csv-parser-template">CSV Parser Template</h4>
<p>A parser template defines the content of the resulting parsed CSV file, by listing wanted product attribute names as header row. The header column values will be parsed and the resulting CSV file will contain corresponding attribute values of the exported products.</p>
<pre class="language-"><code># only productType.name, the variant id and localized name (english) will be exported
productType,name.en,variantId
</code></pre><p>For more information about the template, and how to generate a template for products, see <a href="https://github.com/sphereio/sphere-node-product-csv-sync#template" target="_blank">here</a></p>
<h4 id="parse-without-csv-template">Parse without CSV template</h4>
<p>Products can however be parsed to CSV without the need to provide a template. In this situation, a zip archive should be passed to the <code>--output</code> flag.
If no template file is passed in, one CSV file will be created for each product type.</p>
<h5 id="example">Example</h5>
<pre class="language-"><code>$ @commercetools/product-json-to-csv --projectKey <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_key</span><span class="token punctuation">&gt;</span></span> --input <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_JSON_file</span><span class="token punctuation">&gt;</span></span> --output <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_zip_archive</span><span class="token punctuation">&gt;</span></span>.zip
</code></pre><h4 id="support-for-different-encodings">Support for different encodings</h4>
<p>Parser can save products in a different encoding (than the default <code>utf8</code>) using <code>--encoding &quot;encodingName&quot;</code> parameter. Supported encodings are listed <a href="https://github.com/ashtuchkin/iconv-lite/#supported-encodings" target="_blank">here</a> in the <code>iconv-lite</code> module github page.</p>
<h5 id="example">Example</h5>
<pre class="language-"><code>$ @commercetools/product-json-to-csv --projectKey <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_key</span><span class="token punctuation">&gt;</span></span> --input <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_JSON_file</span><span class="token punctuation">&gt;</span></span> --output <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path_to_zip_archive</span><span class="token punctuation">&gt;</span></span>.zip --encoding win1252
</code></pre><hr>
<h3 id="js">JS</h3>
<p>For more direct usage, it is possible to use this module directly</p>
<h4 id="configuration">Configuration</h4>
<p>The constructor accepts four arguments:</p>
<ul>
<li><code>apiConfig</code> (Object): <code>AuthMiddleware</code> options for authentication on the commercetools platform. (Required. See <a href="https://commercetools.github.io/nodejs/sdk/api/sdkMiddlewareAuth.html#named-arguments-options" target="_blank">here</a>)</li>
<li><code>parserConfig</code> (Object): Internal Parse configurations<ul>
<li><code>categoryBy</code> (String): Specify which identifier should be used to reference the categories (Options: <code>name</code>, <code>key</code>, <code>externalId</code> and <code>namedPath</code>. Default: <code>name</code>)</li>
<li><code>categoryOrderHintBy</code> (String): Specify which identifier should be used to reference the categoryOrderHints (Options: <code>name</code>, <code>key</code>, <code>externalId</code> and <code>namedPath</code>. Default: <code>name</code>)</li>
<li><code>delimiter</code> (String): Delimiter used to separate cells in the output file (Default: <code>;</code>)</li>
<li><code>fillAllRows</code> (Boolean): Specify if product attributes like name should be added to each variant row (Default: <code>false</code>)</li>
<li><code>headerFields</code> (Array<string>): An array of header fields to be passed to CSV. This headerFields array should contain the required columns of the CSV file(Optional. If omitted, a <code>.zip</code> file containing one csv file per product type will be created. This is synonymous with the <code>--template</code> flag in the CLI)</string></li>
<li><code>language</code> (String): Default language used when resolving localised attributes (except lenums) and category names (Default: <code>en</code>)</li>
<li><code>languages</code> (Array<string>): List of languages which should be exported from <code>ltext/lenum</code> attributes (Default: <code>[&quot;en&quot;]</code>)</string></li>
<li><code>encoding</code> (String): Encoding used when saving products to output stream (Default: <code>utf8</code>)</li>
</ul>
</li>
<li><code>multiValueDelimiter</code> (String): Delimiter used to separate multivalue items in cells in the output file (Default: <code>;</code>)</li>
<li>An optional logger object having four methods (<code>info</code>, <code>warn</code>, <code>error</code> and <code>debug</code>)</li>
<li><code>accessToken</code> (String): Access token to be used to authenticate requests to API. Requires scope of [<code>view_products</code>, <code>view_customers</code>]</li>
</ul>
<h4 id="example">Example</h4>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> ProductJsonToCsv <span class="token keyword">from</span> <span class="token string">&apos;@commercetools/product-json-to-csv&apos;</span>
<span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&apos;fs&apos;</span>

<span class="token keyword">const</span> inputStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">&apos;path_to_JSON_file&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> outputStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createWriteStream</span><span class="token punctuation">(</span><span class="token string">&apos;path_to_CSV_file&apos;</span><span class="token punctuation">)</span> <span class="token comment">// &lt;- or zip file if no headers</span>

<span class="token keyword">const</span> apiConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  host<span class="token operator">:</span> <span class="token string">&apos;https://auth.commercetools.com&apos;</span><span class="token punctuation">,</span>
  apiUrl<span class="token operator">:</span> <span class="token string">&apos;https://api.commercetools.com&apos;</span><span class="token punctuation">,</span>
  projectKey<span class="token operator">:</span> <span class="token string">&apos;node-test-project&apos;</span><span class="token punctuation">,</span>
  credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
    clientId<span class="token operator">:</span> <span class="token string">&apos;123456hgfds&apos;</span><span class="token punctuation">,</span>
    clientSecret<span class="token operator">:</span> <span class="token string">&apos;123456yuhgfdwegh675412wefb3rgb&apos;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> headerFields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;name.en&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;key&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;sku&apos;</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> parserConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  headerFields<span class="token punctuation">,</span>
  categoryBy<span class="token operator">:</span> <span class="token string">&apos;namedPath&apos;</span><span class="token punctuation">,</span>
  categoryOrderHintBy<span class="token operator">:</span> key<span class="token punctuation">,</span>
  delimiter<span class="token operator">:</span> <span class="token string">&apos;,&apos;</span><span class="token punctuation">,</span>
  fillAllRows<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  language<span class="token operator">:</span> <span class="token string">&apos;en&apos;</span><span class="token punctuation">,</span>
  languages<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&apos;en&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;de&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  multiValueDelimiter<span class="token operator">:</span> <span class="token string">&apos;;&apos;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token punctuation">{</span>
  error<span class="token operator">:</span> console<span class="token punctuation">.</span>error<span class="token punctuation">,</span>
  warn<span class="token operator">:</span> console<span class="token punctuation">.</span>warn<span class="token punctuation">,</span>
  info<span class="token operator">:</span> console<span class="token punctuation">.</span>log<span class="token punctuation">,</span>
  debug<span class="token operator">:</span> console<span class="token punctuation">.</span>debug<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> accessToken <span class="token operator">=</span> <span class="token string">&apos;my-unique-access-token&apos;</span>

<span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProductJsonToCsv</span><span class="token punctuation">(</span>
  apiConfig<span class="token punctuation">,</span>
  exportConfig<span class="token punctuation">,</span>
  logger<span class="token punctuation">,</span>
  accessToken
<span class="token punctuation">)</span>

<span class="token comment">// Register error listener</span>
outputStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;error&apos;</span><span class="token punctuation">,</span> errorHandler<span class="token punctuation">)</span>

outputStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&apos;finish&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&apos;Parsing completed&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

parser<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">,</span> outputStream<span class="token punctuation">)</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="product-exporter.html" class="navigation navigation-prev " aria-label="Previous page: Product Exporter">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="product-json-to-xlsx.html" class="navigation navigation-next " aria-label="Next page: Product JSON to XLSX">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Product JSON to CSV","level":"1.3.16","depth":2,"next":{"title":"Product JSON to XLSX","level":"1.3.17","depth":2,"path":"cli/product-json-to-xlsx.md","ref":"cli/product-json-to-xlsx.md","articles":[]},"previous":{"title":"Product Exporter","level":"1.3.15","depth":2,"path":"cli/product-exporter.md","ref":"cli/product-exporter.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link","prism","-highlight","github","anchorjs","ga"],"root":"docs","styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/commercetools/nodejs/"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"ga":{"configuration":{"anonymizeIp":true},"token":"UA-38285631-20"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/commercetools/nodejs/tree/master"},"theme-default":{"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"commercetools node.js","gitbook":">=3.2.1"},"file":{"path":"cli/product-json-to-csv.md","mtime":"2021-04-09T12:07:51.295Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-06-08T09:10:01.087Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

